MySQL 支持从 1 字节到 8 字节不等的多种整数类型，可根据数据大小和符号需求来选用。

|   |   |   |   |   |
|---|---|---|---|---|
|类型|存储大小|有符号范围|无符号范围|备注|
|**TINYINT[(M)]**|1 字节|–128 … 127|0 … 255|`TINYINT(1)`<br><br>常用于布尔值；`(M)`<br><br>为显示宽度，仅配合 `ZEROFILL`<br><br>影响显示。|
|**SMALLINT[(M)]**|2 字节|–32,768 … 32,767|0 … 65,535||
|**MEDIUMINT[(M)]**|3 字节|–8,388,608 … 8,388,607|0 … 16,777,215||
|**INT[(M)]** / **INTEGER[(M)]**|4 字节|–2,147,483,648 … 2,147,483,647|0 … 4,294,967,295|最常用的自增主键类型。|
|**BIGINT[(M)]**|8 字节|–9.22×10¹⁸ … 9.22×10¹⁸|0 … 1.84×10¹⁹|用于超大范围计数，如累计流水号、Unix 时间戳。|

### 1.1 `UNSIGNED` 与 `ZEROFILL`

- `**UNSIGNED**`：仅存储非负值，上表中的“无符号范围”。
- `**ZEROFILL**`：在查询显示时，用零填充到定义宽度（`M` 位），隐含 `UNSIGNED` 属性。

```mysql
-- 一个 4 位宽度、无符号、自增、前导零填充的整型主键
CREATE TABLE orders (
  id INT(4) UNSIGNED ZEROFILL AUTO_INCREMENT PRIMARY KEY,
  ...
);
-- 查询时 id=5 会显示为 0005
```

---

## 2. 定点十进制类型（Fixed-Point Types）

当需要**绝对精度**（如金钱、财务计算）时，应使用定点类型。

|   |   |   |
|---|---|---|
|类型|存储（字节）|说明|
|**DECIMAL(M[,D])**|大约 ⌈M/9⌉×4 + 2|精确定点，`M`<br><br>为最大总位数（0–65），`D`<br><br>为小数位数（0–30）。|
|**NUMERIC(M[,D])**|同 `DECIMAL`|同义词，行为一致。|

### 2.1 精度与存储

- MySQL 将定点值按每 9 位数字压缩存储为 4 字节。
- 例如 `DECIMAL(10,2)` 最多存储 8 位整数 + 2 位小数，总共 10 位，约占 4 + 4 + 2 = 10 字节（粗略估算）。

### 2.2 运算特点

- **绝对精确**：不会有浮点舍入误差。
- **性能开销**：比整数和浮点略高，但在财务场景几乎必选。

---

## 3. 浮点类型（Floating-Point Types）

用于存储近似值，适合科学计算、统计分析，但不推荐用于财务场景。

|   |   |   |   |
|---|---|---|---|
|类型|存储大小|精度|说明|
|**FLOAT[(M,D)] [UNSIGNED] [ZEROFILL]**|4 字节|~7 位十进制数|单精度，误差 ±1 ULP（unit in last place）|
|**DOUBLE[(M,D)] [UNSIGNED] [ZEROFILL]**|8 字节|~15 位十进制数|双精度，误差更小，适合大多数统计/工程计算。|
|**REAL**|同 `DOUBLE`|—|在 MySQL 中为 `DOUBLE`<br><br>的同义词（取决于 SQL 模式）。|

### 3.1 `(M,D)` 语法

- `(M,D)` 指定 **显示** 宽度和小数位，但并不改变内部精度。
- 通常推荐省略，直接用 `FLOAT` / `DOUBLE`。

### 3.2 舍入与比较

- 浮点运算存在舍入误差，不应用 `=` 精确比较，推荐使用范围判断：

```mysql
WHERE ABS(val - 3.14) < 0.00001
```

---

## 4. 位类型（Bit-Field）

|   |   |   |
|---|---|---|
|类型|存储大小|说明|
|**BIT[(M)]**|⌈M/8⌉ 字节|用于存储二进制位序列，M 范围 1–64。|

```mysql
CREATE TABLE flags (
  mask BIT(16) NOT NULL
);
INSERT INTO flags (mask) VALUES (b'1011001110001111');
```

- 可用 `b'...'` 或十六进制 `x'...'` 文字。
- 适用于紧凑存储多路开关、布尔集合。

---

## 5. 布尔类型（Boolean）

MySQL 将 `BOOL` 和 `BOOLEAN` 当作 `TINYINT(1)` 的同义词：

```mysql
CREATE TABLE settings (
  feature_enabled BOOLEAN NOT NULL DEFAULT TRUE
);
```

- **TRUE** 等价于非零，**FALSE** 等价于零。
- 语义上便于表意，但底层仍是整数。

---

## 6. 精度、范围与溢出

- **插入超范围值**：MySQL 会根据 SQL 模式决定是截断到边界值并产生警告，还是报错（严格模式）。
- **算术溢出**：同样依赖 SQL 模式，推荐在生产启用严格模式（`STRICT_ALL_TABLES` 或 `STRICT_TRANS_TABLES`）以避免静默截断。

---

## 7. 选型建议

1. **计数、自增主键**：`INT`（或根据规模选 `SMALLINT`/`BIGINT`）。
2. **状态码、枚举值**：可选 `TINYINT`；若需要位标志或多选，选 `BIT`。
3. **财务金额**：`DECIMAL`（如 `DECIMAL(10,2)`）。
4. **科学计算/统计**：`FLOAT`（较小数据量）或 `DOUBLE`（高精度）。
5. **布尔值**：可用 `BOOLEAN`，语义清晰。
