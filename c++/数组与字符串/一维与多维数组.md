C++ 中的数组是存储相同类型元素的连续内存块。数组分为一维数组和多维数组，是程序设计中最基础的数据结构之一。

## 一维数组

### 一维数组的声明和初始化

```cpp
#include <iostream>

int main() {
    // 1. 声明数组（未初始化，包含垃圾值）
    int arr1[5];  // 声明包含5个int元素的数组
    
    // 2. 声明并初始化
    int arr2[5] = {1, 2, 3, 4, 5};  // 完全初始化
    int arr3[5] = {1, 2, 3};        // 部分初始化，剩余元素为0
    int arr4[5] = {0};              // 所有元素初始化为0
    int arr5[5] = {};               // C++11：所有元素初始化为0
    
    // 3. 自动推导数组大小
    int arr6[] = {1, 2, 3, 4, 5, 6};  // 编译器推导大小为6
    
    // 4. C++11 统一初始化
    int arr7{1, 2, 3, 4, 5};
    
    // 5. 字符数组
    char str1[10] = "Hello";     // 字符串字面量初始化
    char str2[] = "World";       // 自动推导大小
    char str3[6] = {'H', 'e', 'l', 'l', 'o', '\0'};  // 字符初始化
    
    // 输出数组内容
    std::cout << "arr2: ";
    for (int i = 0; i < 5; ++i) {
        std::cout << arr2[i] << " ";
    }
    std::cout << std::endl;
    
    return 0;
}
```

### 数组的访问和操作

```cpp
#include <iostream>
#include <algorithm>  // for std::sort, std::find

void printArray(int arr[], int size) {
    for (int i = 0; i < size; ++i) {
        std::cout << arr[i] << " ";
    }
    std::cout << std::endl;
}

int main() {
    int numbers[10] = {5, 2, 8, 1, 9, 3, 7, 4, 6, 0};
    int size = sizeof(numbers) / sizeof(numbers[0]);  // 计算数组大小
    
    std::cout << "Original array: ";
    printArray(numbers, size);
    
    // 1. 数组元素访问
    std::cout << "First element: " << numbers[0] << std::endl;
    std::cout << "Last element: " << numbers[size-1] << std::endl;
    
    // 2. 修改数组元素
    numbers[0] = 100;
    numbers[size-1] = 200;
    
    // 3. 遍历数组
    std::cout << "Modified array: ";
    for (int i = 0; i < size; ++i) {
        std::cout << numbers[i] << " ";
    }
    std::cout << std::endl;
    
    // 4. 使用范围for循环（C++11）
    std::cout << "Using range-based for: ";
    for (int num : numbers) {
        std::cout << num << " ";
    }
    std::cout << std::endl;
    
    // 5. 查找元素
    int target = 8;
    int* found = std::find(numbers, numbers + size, target);
    if (found != numbers + size) {
        std::cout << "Found " << target << " at index " 
                  << (found - numbers) << std::endl;
    }
    
    // 6. 排序数组
    std::sort(numbers, numbers + size);
    std::cout << "Sorted array: ";
    printArray(numbers, size);
    
    return 0;
}
```

### 数组作为函数参数

```cpp
#include <iostream>

// 方式1：数组参数（实际上是指针）
void processArray1(int arr[], int size) {
    std::cout << "In function, sizeof(arr) = " << sizeof(arr) << std::endl;  // 指针大小
    for (int i = 0; i < size; ++i) {
        arr[i] *= 2;  // 修改原数组
    }
}

// 方式2：指针参数（等价于方式1）
void processArray2(int* arr, int size) {
    for (int i = 0; i < size; ++i) {
        arr[i] += 10;
    }
}

// 方式3：引用参数（需要指定大小）
void processArray3(int (&arr)[5]) {
    for (int i = 0; i < 5; ++i) {
        arr[i] -= 5;
    }
}

// 方式4：模板参数（C++11）
template<size_t N>
void processArray4(int (&arr)[N]) {
    for (size_t i = 0; i < N; ++i) {
        arr[i] /= 2;
    }
}

// 返回数组（实际返回指针）
int* createArray(int size) {
    int* arr = new int[size];  // 动态分配
    for (int i = 0; i < size; ++i) {
        arr[i] = i + 1;
    }
    return arr;
}

int main() {
    int numbers[5] = {1, 2, 3, 4, 5};
    
    std::cout << "Original: ";
    for (int num : numbers) std::cout << num << " ";
    std::cout << std::endl;
    
    processArray1(numbers, 5);
    std::cout << "After processArray1: ";
    for (int num : numbers) std::cout << num << " ";
    std::cout << std::endl;
    
    processArray2(numbers, 5);
    std::cout << "After processArray2: ";
    for (int num : numbers) std::cout << num << " ";
    std::cout << std::endl;
    
    processArray3(numbers);
    std::cout << "After processArray3: ";
    for (int num : numbers) std::cout << num << " ";
    std::cout << std::endl;
    
    processArray4(numbers);
    std::cout << "After processArray4: ";
    for (int num : numbers) std::cout << num << " ";
    std::cout << std::endl;
    
    // 动态数组
    int* dynamicArr = createArray(3);
    std::cout << "Dynamic array: ";
    for (int i = 0; i < 3; ++i) {
        std::cout << dynamicArr[i] << " ";
    }
    std::cout << std::endl;
    delete[] dynamicArr;  // 释放内存
    
    return 0;
}
```

## 多维数组

### 二维数组

```cpp
#include <iostream>

int main() {
    // 1. 二维数组的声明和初始化
    int matrix1[3][4];  // 3行4列的矩阵（未初始化）
    
    // 2. 完全初始化
    int matrix2[3][4] = {
        {1, 2, 3, 4},
        {5, 6, 7, 8},
        {9, 10, 11, 12}
    };
    
    // 3. 部分初始化
    int matrix3[3][4] = {
        {1, 2},        // 第一行：1, 2, 0, 0
        {5, 6, 7},     // 第二行：5, 6, 7, 0
        {}             // 第三行：0, 0, 0, 0
    };
    
    // 4. 一维方式初始化
    int matrix4[3][4] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12};
    
    // 5. 全零初始化
    int matrix5[3][4] = {};
    
    // 6. 自动推导第一维大小
    int matrix6[][4] = {
        {1, 2, 3, 4},
        {5, 6, 7, 8}
    };  // 自动推导为2行4列
    
    // 输出二维数组
    std::cout << "matrix2:" << std::endl;
    for (int i = 0; i < 3; ++i) {
        for (int j = 0; j < 4; ++j) {
            std::cout << matrix2[i][j] << "\t";
        }
        std::cout << std::endl;
    }
    
    return 0;
}
```

### 二维数组的操作

```cpp
#include <iostream>
#include <iomanip>

// 打印二维数组
void printMatrix(int matrix[][4], int rows) {
    for (int i = 0; i < rows; ++i) {
        for (int j = 0; j < 4; ++j) {
            std::cout << std::setw(4) << matrix[i][j];
        }
        std::cout << std::endl;
    }
}

// 矩阵转置
void transpose(int source[][4], int dest[][3], int rows, int cols) {
    for (int i = 0; i < rows; ++i) {
        for (int j = 0; j < cols; ++j) {
            dest[j][i] = source[i][j];
        }
    }
}

// 查找元素
bool findElement(int matrix[][4], int rows, int cols, int target, int& row, int& col) {
    for (int i = 0; i < rows; ++i) {
        for (int j = 0; j < cols; ++j) {
            if (matrix[i][j] == target) {
                row = i;
                col = j;
                return true;
            }
        }
    }
    return false;
}

int main() {
    int matrix[3][4] = {
        {1, 2, 3, 4},
        {5, 6, 7, 8},
        {9, 10, 11, 12}
    };
    
    std::cout << "Original matrix:" << std::endl;
    printMatrix(matrix, 3);
    
    // 访问和修改元素
    std::cout << "\nElement at [1][2]: " << matrix[1][2] << std::endl;
    matrix[1][2] = 100;
    std::cout << "After modification:" << std::endl;
    printMatrix(matrix, 3);
    
    // 计算行和列的总和
    std::cout << "\nRow sums: ";
    for (int i = 0; i < 3; ++i) {
        int rowSum = 0;
        for (int j = 0; j < 4; ++j) {
            rowSum += matrix[i][j];
        }
        std::cout << rowSum << " ";
    }
    std::cout << std::endl;
    
    std::cout << "Column sums: ";
    for (int j = 0; j < 4; ++j) {
        int colSum = 0;
        for (int i = 0; i < 3; ++i) {
            colSum += matrix[i][j];
        }
        std::cout << colSum << " ";
    }
    std::cout << std::endl;
    
    // 查找元素
    int row, col;
    if (findElement(matrix, 3, 4, 100, row, col)) {
        std::cout << "\nFound 100 at position [" << row << "][" << col << "]" << std::endl;
    }
    
    // 矩阵转置
    int transposed[4][3];
    transpose(matrix, transposed, 3, 4);
    std::cout << "\nTransposed matrix:" << std::endl;
    for (int i = 0; i < 4; ++i) {
        for (int j = 0; j < 3; ++j) {
            std::cout << std::setw(4) << transposed[i][j];
        }
        std::cout << std::endl;
    }
    
    return 0;
}
```

### 三维数组和更高维数组

```cpp
#include <iostream>

int main() {
    // 三维数组：可以想象为多个二维数组的集合
    int cube[2][3][4] = {
        {  // 第一个2D数组
            {1, 2, 3, 4},
            {5, 6, 7, 8},
            {9, 10, 11, 12}
        },
        {  // 第二个2D数组
            {13, 14, 15, 16},
            {17, 18, 19, 20},
            {21, 22, 23, 24}
        }
    };
    
    // 访问三维数组元素
    std::cout << "Three-dimensional array:" << std::endl;
    for (int i = 0; i < 2; ++i) {
        std::cout << "Layer " << i << ":" << std::endl;
        for (int j = 0; j < 3; ++j) {
            for (int k = 0; k < 4; ++k) {
                std::cout << cube[i][j][k] << "\t";
            }
            std::cout << std::endl;
        }
        std::cout << std::endl;
    }
    
    // 四维数组示例
    int hyperCube[2][2][2][2];
    
    // 初始化四维数组
    int value = 1;
    for (int i = 0; i < 2; ++i) {
        for (int j = 0; j < 2; ++j) {
            for (int k = 0; k < 2; ++k) {
                for (int l = 0; l < 2; ++l) {
                    hyperCube[i][j][k][l] = value++;
                }
            }
        }
    }
    
    // 输出四维数组的一部分
    std::cout << "Four-dimensional array [0][0]:" << std::endl;
    for (int k = 0; k < 2; ++k) {
        for (int l = 0; l < 2; ++l) {
            std::cout << hyperCube[0][0][k][l] << " ";
        }
        std::cout << std::endl;
    }
    
    return 0;
}
```

## 动态数组

### 一维动态数组

```cpp
#include <iostream>
#include <memory>

int main() {
    int size;
    std::cout << "Enter array size: ";
    std::cin >> size;
    
    // 1. 使用 new/delete
    int* dynamicArray = new int[size];
    
    // 初始化
    for (int i = 0; i < size; ++i) {
        dynamicArray[i] = i * i;
    }
    
    // 使用
    std::cout << "
```
