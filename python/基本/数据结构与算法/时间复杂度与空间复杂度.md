## 一、时间复杂度（Time Complexity）

### 1.1 定义

时间复杂度是**衡量算法执行时间与输入规模之间增长关系**的一种方式。它描述的是**输入规模趋近于无穷大时，算法执行步骤的数量级**。

记作：

**T(n) = O(f(n))**  
其中，n 表示输入规模，f(n) 表示算法在最坏或平均情况下执行步骤的数量级。

### 1.2 常见时间复杂度及说明

|   |   |   |   |
|---|---|---|---|
|复杂度|名称|示例|说明|
|O(1)|常数时间|访问数组某一元素|与输入规模无关|
|O(log n)|对数时间|二分查找|每次将问题规模减半|
|O(n)|线性时间|遍历数组|每个元素处理一次|
|O(n log n)|线性对数|快速排序、归并排序|分治 + 合并过程|
|O(n²)|二次时间|冒泡排序、选择排序|双重嵌套循环|
|O(2ⁿ)|指数时间|递归斐波那契、子集枚举|输入稍大即不可接受|
|O(n!)|阶乘时间|全排列问题（如旅行商问题）|随 n 增长极快增长|

### 1.3 三种时间复杂度分析方式

- **最坏情况（Worst Case）**：算法执行时间的最大值。
- **平均情况（Average Case）**：所有输入情况下的加权平均执行时间。
- **最好情况（Best Case）**：执行时间最小的情况（一般用于补充说明）。

例如：  
对于冒泡排序：

- 最坏时间复杂度：O(n²)（完全逆序）
- 最好时间复杂度：O(n)（已经有序）
- 平均时间复杂度：O(n²)

### 1.4 时间复杂度的分析原则

- 忽略低阶项：如 T(n) = 3n² + 2n + 1 → O(n²)
- 忽略常数系数：如 T(n) = 5n → O(n)
- 只保留最高阶项

---

## 二、空间复杂度（Space Complexity）

### 2.1 定义

空间复杂度是**衡量算法在运行过程中临时占用的存储空间与输入规模的增长关系**。

记作：

**S(n) = O(f(n))**  
表示输入规模为 n 时，算法运行过程中额外占用的内存空间数量级。

### 2.2 空间组成

程序总空间消耗通常由三部分构成：

1. **输入/输出空间**：与算法本身无关，通常不计入。
2. **辅助变量空间**：临时变量、栈帧、递归栈等。
3. **程序常量空间**：编译时已确定，不随输入变化。

### 2.3 常见空间复杂度

|   |   |   |
|---|---|---|
|复杂度|示例|说明|
|O(1)|选择排序、冒泡排序|原地排序，无额外空间|
|O(n)|归并排序、计数排序|使用额外数组|
|O(log n)|快速排序（递归栈）|每次递归一层空间|
|O(n²)|二维表格、DP 动态规划|需要 n × n 的二维数组|

例如：

- 快速排序是**原地排序**，但递归调用栈可能使用 O(log n) 空间；
- 归并排序需要一个与原数组等长的临时数组，因此空间复杂度为 O(n)。

---

## 三、复杂度分析举例：快速排序 vs 冒泡排序

|   |   |   |
|---|---|---|
|特性|快速排序（Quick Sort）|冒泡排序（Bubble Sort）|
|时间复杂度（平均）|O(n log n)|O(n²)|
|时间复杂度（最坏）|O(n²)|O(n²)|
|空间复杂度|O(log n)|O(1)|
|是否原地排序|是|是|
|是否稳定|否|是|

---

## 四、总结：分析复杂度的步骤

1. **确认输入规模 n 的定义**（数组长度、节点数、字符数等）。
2. **估算基本操作执行次数**（如比较、交换）。
3. **找出影响执行次数的主要因素**（是否有循环、递归、分支）。
4. **根据增长趋势选择对应的大 O 表达式**。
5. **对于递归算法，可使用递归树法或主定理进行分析**。