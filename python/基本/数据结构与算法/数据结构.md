# Python 数据结构笔记

---

## 一、序列类型（Sequence Types）

### 1.1 列表（List）

- **定义**：一种**有序**、**可变**、**允许重复元素**的集合类型。
- **语法**：

```python
my_list = [1, 2, 3]
```

- **常用操作**：

|       |                     |                      |
| ----- | ------------------- | -------------------- |
| 操作类别  | 方法/语法               | 说明                   |
| 访问    | `my_list[i]`        | 访问索引为 `i`<br><br>的元素 |
| 添加    | `append(x)`         | 在末尾追加元素              |
|       | `extend([a, b])`    | 扩展列表                 |
|       | `insert(i, x)`      | 在索引 `i`<br><br>处插入元素 |
| 删除    | `remove(x)`         | 删除第一次出现的值            |
|       | `pop([i])`          | 弹出指定位置元素，默认最后一个      |
|       | `del my_list[i]`    | 删除指定索引元素             |
| 排序与反转 | `sort()`            | 就地排序                 |
|       | `sorted(my_list)`   | 返回新排序列表              |
|       | `reverse()`         | 就地反转                 |
|       | `reversed(my_list)` | 反转迭代器                |


- **其他特性**：

- **切片操作**：支持`my_list[start:end:step]`等灵活切片
- **嵌套列表**：允许嵌套存储，如 `[[1, 2], [3, 4]]`
- **可变性**：可修改单个元素，也可整体替换切片

---

### 1.2 元组（Tuple）

- **定义**：一种**有序**、**不可变**、**允许重复元素**的序列类型。
- **语法**：

```python
my_tuple = (1, 2, 3)
single_element = (1,)  # 单元素元组必须加逗号
```

- **用途**：

- 多值返回：`return a, b`
- 字典键/集合元素（因其可哈希）
- 表示结构化数据（如二维坐标）

- **内置方法**：

- `count(x)`：返回元素 x 出现次数
- `index(x)`：返回元素 x 首次出现的位置

---

### 1.3 字符串（String）

- **定义**：一种**有序**、**不可变**的字符序列。
- **语法**：

```python
s = "hello"
```

- **常用方法**：

|   |   |   |
|---|---|---|
|类别|方法/语法|说明|
|分割/连接|`split(sep)`|分割字符串|
||`'sep'.join(seq)`|用分隔符连接序列|
|查找/替换|`find(sub)`|返回首次出现的索引，未找到返回 -1|
||`replace(a, b)`|替换子串|
|格式化输出|`f"{var}"`<br><br>, `format()`|字符串插值|

- **其他特性**：

- 支持切片、索引访问
- 支持常用字符方法如 `upper()`, `lower()`, `strip()`, `startswith()`, `endswith()`
- 使用 `len(s)` 获取长度

---

## 二、集合类型（Set Types）

### 2.1 集合（Set）

- **定义**：一种**无序**、**元素唯一**的集合类型。
- **语法**：

```python
my_set = {1, 2, 3}
my_set2 = set([1, 2, 3])
```

- **常用操作**：

|     |              |               |
| --- | ------------ | ------------- |
| 操作  | 方法           | 说明            |
| 添加  | `add(x)`     | 添加元素          |
| 删除  | `remove(x)`  | 删除元素，若不存在则抛异常 |
|     | `discard(x)` | 删除元素，若不存在不报错  |
| 清空  | `clear()`    | 清空集合          |

- **集合运算**：

| 运算类型 | 运算符          | 方法                          |
| ---- | ------------ | --------------------------- |
| 并集   | `a &#124; b` | `a.union(b)`                |
| 交集   | `a & b`      | `a.intersection(b)`         |
| 差集   | `a - b`      | `a.difference(b)`           |
| 对称差集 | `a ^ b`      | `a.symmetric_difference(b)` |
>可恶呀，为了避免冲突只能用 `&#124;` 来代替 `|` 了。

- **特点**：

- 自动去重
- 不支持索引和切片
- 常用于元素去重与集合关系计算

---

### 2.2 冻结集合（frozenset）

- **定义**：一种**不可变**集合类型。
- **语法**：

```python
fs = frozenset([1, 2, 3])
```

- **特点**：

- 不可变：不能添加或删除元素
- 可用作字典键或集合元素
- 支持所有集合间运算（如并、交、差）

---

## 三、映射类型（Mapping Types）

### 3.1 字典（Dict）

- **定义**：一种**无序的键值对集合**，键必须唯一且为不可变类型。
- **语法**：

```python
my_dict = {"name": "Alice", "age": 25}
```

- **常用操作**：

|       |                               |           |
| ----- | ----------------------------- | --------- |
| 操作    | 方法/语法                         | 说明        |
| 访问/修改 | `my_dict["key"]`              | 访问或更新值    |
| 安全访问  | `my_dict.get("key", default)` | 避免抛出异常    |
| 添加键值对 | `my_dict["new"] = val`        |           |
| 删除键值对 | `del my_dict["key"]`          |           |
| 弹出键值对 | `pop(key)`                    | 删除并返回该键的值 |


- **遍历字典**：

```python
for key, value in my_dict.items():
    print(key, value)
```

- **其他方法**：
- `keys()`, `values()`, `items()`, `update()`
- **特点**：

- 查询效率高（哈希表实现）
- 键不可变，如字符串、元组等

---

## 四、其他常见结构

### 4.1 栈（Stack）

- **实现方式**：使用 `list` 实现
- **操作**：

```python
stack = []
stack.append(x)   # 入栈
x = stack.pop()   # 出栈
```

- **特点**：

- 后进先出（LIFO）
- 可用于函数调用、表达式求值、撤销操作等

---

### 4.2 队列（Queue）

- **推荐实现**：`collections.deque`
- **操作示例**：

```python
from collections import deque
q = deque()
q.append(1)      # 入队
q.popleft()      # 出队
```

- **特点**：

- 先进先出（FIFO）
- `deque` 支持双端操作，效率优于 `list` 在两端插入/删除场景

---

### 4.3 优先队列（Priority Queue）

- **实现方式**：使用 `heapq` 模块（最小堆实现）
- **示例**：

```python
import heapq
heap = []
heapq.heappush(heap, 3)
heapq.heappush(heap, 1)
x = heapq.heappop(heap)  # 弹出最小值
```

- **特点**：

- 自动维护最小（或最大）元素在顶部
- 操作复杂度为 O(log n)
- 适用于调度系统、任务优先级控制等场景

---

## 五、数据结构选择建议

|   |   |
|---|---|
|使用场景|推荐数据结构|
|有序、可变集合|`list`|
|不可变有序序列|`tuple`|
|快速查找/键值存储|`dict`|
|无序唯一元素集合|`set`|
|不可变集合（可哈希）|`frozenset`|
|字符处理/文本分析|`str`|
|栈结构|`list`|
|高效队列/双端队列|`collections.deque`|
|优先队列|`heapq`|
